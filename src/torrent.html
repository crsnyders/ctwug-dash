<template id="torrents">
  <require from="components/title-format-value-converter"></require>
  <br>
  <div class="">
      <form class="form-inline" submit.delegate="search()">
        <button type="button" class="btn btn-default" name="button" click.delegate="fetchRSS()">RSS</button>
        <div class="form-group">
          <div class="input-group">
            <input type="text" class="form-control" id="search" placeholder="search" value.bind="searchString">
            <div class="input-group-addon btn btn-default fa fa-search" click.delegate="search()"></div>
          </div>
        </div>
      </form>
    </div>

  <hr>
  <div class="results">
    <table class="table table-striped">
      <tbody>
        <tr repeat.for="torrent of torrents" dblclick.delegate="download(torrent)">
          <td><button type="button" class="btn btn-primary" click.delegate="download(torrent)">Download</button></td>
          <td>${torrent.title | titleFormat}</td>
          <td>${torrent.content}</td>
        </tr>
      </tbody>
    </table>
  </div>
  <div if.bind="pages" class="pull-right">
    <ul class="pagination">
      <li click.delegate="previous()"><a >&laquo;</a></li>
      <li repeat.for="page of pages" click.delegate="changePage(page)"><a>${page}</a></li>
      <li click.delegate="next()"><a >&raquo;</a></li>
    </ul>
  </div>

  <div class="modal fade" id="downloadDialog" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-body">
          <div class="alert alert-${model.status}">
          <h5>${model.file} ${status == "danger" ? "not": ""} downloaded</h5>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
